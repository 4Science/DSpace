<?xml version='1.0' encoding='utf-8'?>
<mapping>
    <item-xpath>//record</item-xpath>

    <metadata-fields>
        <!-- mapping without riders -->
        <metadata-field>
            <field>cris.legacyId</field>
            <xpath>./controlfield[@tag = '001']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.date.modified</field>
            <xpath>./controlfield[@tag = '005']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject.ddc</field>
            <xpath>./datafield[@tag = '082']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.format.extent</field>
            <xpath>./datafield[@tag = '300']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.format</field>
            <xpath>./datafield[@tag = '340']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.description.bibliography</field>
            <xpath>./datafield[@tag = '504']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.description.tableofcontents</field>
            <xpath>./datafield[@tag = '505']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.description.abstract</field>
            <xpath>./datafield[@tag = '520']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject.lcsh</field>
            <xpath>./datafield[@tag = '650' and @ind2 = '0']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject.rvm</field>
            <xpath>./datafield[@tag = '650' and @ind2 = '6']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject</field>
            <xpath>./datafield[@tag='650'][@ind2 != '0'][@ind2 != '6']/subfield[@code='a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.conference</field>
            <xpath>./datafield[@tag = '711' and @ind1 = '2']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.place</field>
            <xpath>./datafield[@tag = '711' and @ind1 = '2']/subfield[@code = 'c']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject.lcc</field>
            <xpath>./datafield[@tag = '050']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <!-- simpleStringValue -->
        <metadata-field>
            <field>dc.subject</field>
            <xpath>./datafield[@tag = '653']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.subject.other</field>
            <xpath>./datafield[@tag = '084']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.identifier.isbn</field>
            <xpath>./datafield[@tag = '020']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.identifier.issn</field>
            <xpath>./datafield[@tag = '022']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.identifier.oclc</field>
            <xpath>./datafield[@tag = '035']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.description.notes</field>
            <xpath>./datafield[@tag = '500']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.hasversion</field>
            <xpath>./datafield[@tag = '775']/subfield[@code = 't']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.isbn</field>
            <xpath>./datafield[@tag = '773']/subfield[@code = 'z']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.references</field>
            <xpath>./datafield[@tag = '787']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.contributor.corporatebody</field>
            <xpath>./datafield[@tag = '110']/subfield[@code = 'a'] | ./datafield[@tag = '710']/subfield[@code = 'a']</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.publisher.place</field>
            <xpath>(./datafield[@tag='260']/subfield[@code='a'][string-length(normalize-space()) > 0] | ./datafield[@tag='264']/subfield[@code='a'])[1]</xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.publisher</field>
            <xpath>(./datafield[@tag='260']/subfield[@code='b'][string-length(normalize-space()) > 0] | ./datafield[@tag='264']/subfield[@code='b'])[1]</xpath>
        </metadata-field>
        <metadata-field>
            <field>oaire.citation.volume</field>
            <xpath>(./datafield[@tag='490']/subfield[@code='v'][string-length(normalize-space()) > 0] | ./datafield[@tag='773']/subfield[@code='g'])[1] </xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.stpieceperother</field>
            <xpath>(./datafield[@tag='490']/subfield[@code='v'][string-length(normalize-space()) > 0] | ./datafield[@tag='773']/subfield[@code='g'])[1] </xpath>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.issn</field>
            <xpath>(./datafield[@tag='490']/subfield[@code='x'][string-length(normalize-space()) > 0] | ./datafield[@tag='773']/subfield[@code='x'])[1] </xpath>
        </metadata-field>
        <!-- mapping with riders -->
        <metadata-field>
            <field>dc.title</field>
            <xpath>./datafield[@tag = '245']</xpath>
            <reader>title</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.title.alternative</field>
            <xpath>./datafield[@tag = '246']</xpath>
            <reader>title</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.contributor.author</field>
            <xpath>./datafield[@tag = '700'][not(subfield[@code='e'][contains(., 'editor')])]</xpath>
            <reader>author</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.contributor.editor</field>
            <xpath>./datafield[@tag = '700'][subfield[@code='e'][contains(., 'editor')]]</xpath>
            <reader>author</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.language.iso</field>
            <xpath>./datafield[@tag = '041']/subfield[@code = 'a']</xpath>
            <reader>language</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.ispartof</field>
            <xpath>./datafield[@tag = '490']</xpath>
            <reader>serie</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.identifier</field>
            <xpath>./datafield[@tag = '024' and @ind1 = '7' and ( @ind2 = ' ' or @ind2 = '0')]</xpath>
            <reader>identifier</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.identifier.ismn</field>
            <xpath>./datafield[@tag = '024' and @ind1 = '2' and ( @ind2 = ' ' or @ind2 = '0')]</xpath>
            <reader>identifier</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.date.issued</field>
            <xpath>./datafield[@tag = '260']/subfield[@code = 'c'] | ./datafield[@tag = '264']/subfield[@code = 'c']</xpath>
            <reader>dateIssued</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.description.edition</field>
            <xpath>./datafield[@tag = '250']</xpath>
            <reader>edition</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.edition</field>
            <xpath>./datafield[@tag = '250']</xpath>
            <reader>edition</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.relation.isreferencedby</field>
            <xpath>./datafield[@tag = '510']</xpath>
            <reader>citation</reader>
        </metadata-field>
        <metadata-field>
            <field>dc.rights</field>
            <xpath>./datafield[@tag = '540']</xpath>
            <reader>rights</reader>
        </metadata-field>

        <metadata-field>
            <field>dc.relation.journalfonds</field>
            <xpath>./datafield[@tag = '773']</xpath>
            <reader>journalfonds</reader>
        </metadata-field>
        <metadata-field>
            <field>glamjournalfonds.parent</field>
            <xpath>./datafield[@tag = '773']</xpath>
            <reader>journalfonds</reader>
        </metadata-field>
    </metadata-fields>

</mapping>